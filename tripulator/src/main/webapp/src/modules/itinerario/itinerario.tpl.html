<link href="resources/css/calendar.css" rel="stylesheet" type="text/css"/>
<link href="resources/css/mapa.css" rel="stylesheet" type="text/css"/>

<div class="page-switcher" id="left-switcher" ng-click="decreasePageNum();">
    <span class="glyphicon glyphicon-menu-left" ></span>
</div>
<!-- TEST -->
<div class="page-switcher" id="right-switcher" ng-click="increasePageNum();">
    <span class="glyphicon glyphicon-menu-right"></span>
</div>

<div class = "container planner">
    <div class="col-xs-12 text-center">
        <div ng-click="toggleFullMonth();">
            <h2 class="month-name">{{days[pagenum][0].date| date : 'MMMM yyyy'}}</h2>
            <span class="arrow" ng-class="toggleFullMonthArrow()"></span>
        </div>
    </div>
    <div class="row seven-cols">

        <div class="col-lg-1 col-md-3 col-sm-4 col-xs-6 text-center nopadding" ng-repeat="name in daynames">
            <h4>{{name}}</h4>
        </div>

        <div class="col-lg-1 col-md-3 col-sm-4 col-xs-6 nopadding" ng-repeat="day in days[pagenum]">
            <div class ="square"
                 ng-mouseenter="highlight = true"
                 ng-mouseleave="highlight = false"
                 ng-style="squareBackground(day, highlight)"
                 ng-click="toggleDayInfo(day);"
                 >
                <p class='text-left col-xs-offset-1' id='date'>{{day.date| date : 'dd'}}</p>
                <div class='general-day-info' ng-show='{{day.valid}} && highlight'>
                    <p class='text-left col-xs-offset-1'>city: {{day.city}}</p>
                    <p class='text-left col-xs-offset-1'>events: 6</p>
                    <p class='text-left col-xs-offset-1'>photos: 4</p>
                    <p class='text-left col-xs-offset-1'>info: none</p>
                </div>
            </div>
        </div>
    </div>

    <div ng-show="showDayInfo" class="row col-xs-12 day-information">
        <div class="col-xs-12 text-right" id="day-information-title" ng-click="toggleDayInfo(selectedDay);">
            <h3 id="collapse-icon"><span class="glyphicon glyphicon-menu-down" ui-sref="itinerario"></span></h3>
        </div>
        <div class="container-fluid">
            <h1 class="col-xs-9 text-left" id="day-info-header-left" data-toggle="modal" data-target="#browseCityModal">
                {{selectedDay.city}}
                <small><span class="glyphicon glyphicon-pencil"></span></small>
            </h1>
            <h1 class="col-xs-3 text-right" id="day-info-header-right">{{selectedDay.date| date}}</h1>

        </div>
        <div class="container-fluid">
            <ul class="nav nav-tabs tab-text" id="tab-spacing">
                <li data-toggle="tab" class="active"><a ui-sref="itinerario.plandia()" >Event Timeline</a></li>
                <li data-toggle="tab"><a ui-sref="itinerario.multimedia()">Photo Gallery</a></li>
                <li data-toggle="tab"><a>Map</a></li>
            </ul>
            <div class="view-container">
                <!-- nested views -->
                <div ui-view="multimedia"></div>
                <div ui-view="plandia"></div>
                <!-- fin nested views -->
            </div>
            <div class="view-container">

            </div>
        </div>
    </div>
</div>

<div id="browseCityModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-center">Browse cities</h3>
            </div>
            <div class="modal-body">
                <h4 class="tab-text">Please choose the city you're visiting today:</h4>
                <input type="text" placeholder="choose a city" class="form-control input-sm" ng-model="cityName">
            </div>
            <div class="modal-footer">
                <button 
                    type="button" 
                    class="btn btn-success  col-xs-3" 
                    ng-click="selectedDay.city = cityName" 
                    data-dismiss="modal"
                    >
                    Ok!
                </button>
                <button type="button" class="btn btn-danger col-xs-3" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="browseCityModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-center">Browse cities</h3>
            </div>
            <div class="modal-body">
                <h4 class="tab-text">Please choose the city you're visiting today:</h4>
                <input type="text" placeholder="choose a city" class="form-control input-sm" ng-model="cityName">
            </div>
            <div class="modal-footer">
                <button 
                    type="button" 
                    class="btn btn-success  col-xs-3" 
                    ng-click="selectedDay.city = cityName" 
                    data-dismiss="modal"
                    >
                    Ok!
                </button>
                <button type="button" class="btn btn-danger col-xs-3" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
    <!-- /.modal -->

</div>
